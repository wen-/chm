<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>HTML音频视频播放</TITLE>
<META content="text/html; charset=gb2312" http-equiv=Content-Type>
<META name=GENERATOR content="MSHTML 11.00.9600.18377"></HEAD>
<BODY>
<P>//页面加载百分比</P>
<P>var urls = 
[<BR>&nbsp;&nbsp;'mp3/hf_music.mp3',<BR>&nbsp;&nbsp;'mp3/i_believe.mp3',<BR>&nbsp;&nbsp;'images/bg.jpg',<BR>&nbsp;&nbsp;'images/ball.png',<BR>&nbsp;&nbsp;'images/triangle1.png',<BR>&nbsp;&nbsp;'images/triangle2.png',<BR>&nbsp;&nbsp;'images/pc.png',<BR>&nbsp;&nbsp;'images/logo.png',<BR>&nbsp;&nbsp;'images/show0.png',<BR>&nbsp;&nbsp;'images/show1.png',<BR>&nbsp;&nbsp;'images/show2.jpg',<BR>&nbsp;&nbsp;'images/pane1.png',<BR>&nbsp;&nbsp;'images/pane2.png',<BR>&nbsp;&nbsp;'images/pane3.png',<BR>&nbsp;&nbsp;'images/slide1.jpg',<BR>&nbsp;&nbsp;'images/slide2.jpg',<BR>&nbsp;&nbsp;'images/slide3.jpg',<BR>&nbsp;&nbsp;'images/slide4.jpg',<BR>&nbsp;&nbsp;//'images/slide5.jpg',<BR>&nbsp;&nbsp;'images/1.jpg',<BR>&nbsp;&nbsp;'images/2.jpg',<BR>&nbsp;&nbsp;'images/3.jpg',<BR>&nbsp;&nbsp;'images/4.jpg',<BR>&nbsp;&nbsp;'images/5.jpg',<BR>&nbsp;&nbsp;'images/6.jpg',<BR>&nbsp;&nbsp;'images/7.jpg',<BR>&nbsp;&nbsp;'images/8.jpg'<BR>&nbsp;];<BR>&nbsp;var 
urls_l = urls.length;<BR>&nbsp;var n = 
0;<BR>&nbsp;$.each(urls,function(i,url){<BR>&nbsp;&nbsp;var imgReg = 
/(\.jpg)|(\.png)|(\.gif)$/i;<BR>&nbsp;&nbsp;var audioReg = 
/(\.mp3)|(\.wav)|(\.ogg)$/i;<BR>&nbsp;&nbsp;var videoReg = 
/(\.mp4)|(\.ogv)|(\.webm)$/i;<BR>&nbsp;&nbsp;if(imgReg.test(url)){<BR>&nbsp;&nbsp;&nbsp;var 
img = new Image();<BR>&nbsp;&nbsp;&nbsp;img.onload = 
function(){<BR>&nbsp;&nbsp;&nbsp;&nbsp;n+=1;<BR>&nbsp;&nbsp;&nbsp;&nbsp;init(n);<BR>&nbsp;&nbsp;&nbsp;};<BR>&nbsp;&nbsp;&nbsp;img.onerror 
= 
function(){<BR>&nbsp;&nbsp;&nbsp;&nbsp;n+=1;<BR>&nbsp;&nbsp;&nbsp;&nbsp;init(n);<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;&nbsp;img.src 
= url;<BR>&nbsp;&nbsp;}else 
if(audioReg.test(url)||videoReg.test(url)){<BR>&nbsp;&nbsp;&nbsp;var audio = new 
Audio();<BR>&nbsp;&nbsp;&nbsp;audio.oncanplaythrough = 
function(){<BR>&nbsp;&nbsp;&nbsp;&nbsp;n+=1;<BR>&nbsp;&nbsp;&nbsp;&nbsp;init(n);<BR>&nbsp;&nbsp;&nbsp;};<BR>&nbsp;&nbsp;&nbsp;audio.onerror 
= 
function(){<BR>&nbsp;&nbsp;&nbsp;&nbsp;console.log("onerror")<BR>&nbsp;&nbsp;&nbsp;&nbsp;n+=1;<BR>&nbsp;&nbsp;&nbsp;&nbsp;init(n);<BR>&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;audio.src 
= url;<BR>&nbsp;&nbsp;}<BR>&nbsp;});<BR>&nbsp;function 
init(num){<BR>&nbsp;&nbsp;if(num &lt; urls_l){<BR>&nbsp;&nbsp;&nbsp;var percent 
= 
parseInt(num/urls_l*100);<BR>&nbsp;&nbsp;&nbsp;$(".loading_txt").text(percent+"%");<BR>&nbsp;&nbsp;}else{<BR>&nbsp;&nbsp;&nbsp;$(".loading_txt").remove();<BR>&nbsp;&nbsp;&nbsp;$("body").addClass("loaded");<BR>&nbsp;&nbsp;&nbsp;initPage();<BR>&nbsp;&nbsp;}<BR>&nbsp;}<BR>&nbsp;</P>
<P>&nbsp;</P>
<P>HTML音频视频播放</P>
<P>&lt;audio controls="controls" height="100" width="100"&gt;<BR>&nbsp; 
&nbsp;&lt;source src="times.mp3" type="audio/mp3" /&gt;<BR>&nbsp; 
&nbsp;&lt;source src="times.ogg" type="audio/ogg" /&gt;<BR>&nbsp;&nbsp; 
&lt;embed src="times.mp3" autostart="false" /&gt;<BR>&lt;/audio&gt;</P>
<P>&lt;video controls="controls" height="100" width="100"&gt;<BR>&nbsp; 
&nbsp;&lt;source src="times.mp3" type="audio/mp3" /&gt;<BR>&nbsp; 
&nbsp;&lt;source src="times.ogg" type="audio/ogg" /&gt;<BR>&nbsp;&nbsp; 
&lt;embed src="times.mp3" autostart="false" /&gt;<BR>&lt;/video&gt;</P>
<P>IE9: H.264视频、vp8视频、mp3音频、wav音频</P>
<P>firefox4以上：Ogg Theora视频、vp8视频、Ogg vorbis音频、wav音频</P>
<P>opera10以上：同上</P>
<P>chrome6以上：H.264视频、vp8视频、Ogg Theora视频、Ogg vorbis音频、wav音频</P>
<P>src:地址</P>
<P>autoplay:自动播放</P>
<P>&lt;video controls="controls" height="100" width="100" autoplay&gt;<BR></P>
<P>preload:预加载</P>
<P>&lt;video controls="controls" height="100" width="100" 
preload="auto"&gt;<BR></P>
<P>poster:(video独有)当视频不可用时用图片代替</P>
<P>&lt;video controls="controls" height="100" width="100" 
poster="../img.jpg"&gt;<BR></P>
<P>loop:循环播放</P>
<P>&lt;video controls="controls" height="100" width="100" poster="../img.jpg" 
loop&gt;<BR></P>
<P>controls:外观</P>
<P>width&amp;height:宽高（video独有）</P>
<P>error:</P>
<P>1下载过程中用户操作中止</P>
<P>2网络错误下载中止</P>
<P>3解码出错</P>
<P>4格式不支持</P>
<P>var video = document.getElementById("video");</P>
<P>video.addEventListener("error",function(){</P>
<P>var error = video.error;</P>
<P>switch(error.code){</P>
<P>case 1:</P>
<P>case 2:</P>
<P>}</P>
<P>}</P>
<P>networkState:</P>
<P>0初始状态</P>
<P>1浏览器已选择好编码格式，但尚未建立链接</P>
<P>2数据加载中</P>
<P>3没有支持的编码格式，不执行加载</P>
<P>var video = document.getElementById("video");</P>
<P>video.addEventListener("progress",function(e){</P>
<P>var network = video.networkState;</P>
<P>if(network == 2){</P>
<P>console.log(e.loaded+'/'+e.total);</P>
<P>}else if(){</P>
<P>console.log("加载失败")</P>
<P>}</P>
<P>}</P>
<P>currentSrc:获取媒体地址</P>
<P>buffered:浏览器缓存时间</P>
<P>currentTime:获取媒体当前播放位置（秒，读写）</P>
<P>startTime:开始播放时间（秒，读）</P>
<P>duration:媒体时间总长（秒，读）</P>
<P>paayed:已播放时间</P>
<P>paused:(true\false)暂停、播放</P>
<P>ended:播放结束</P>
<P>defaultPlaybackRate:默认播放速率</P>
<P>playbackRate:当前播放率</P>
<P>volume:音量（0-1）</P>
<P>muted:静音</P>
<P>play()\pause()\load()</P>
<P>HTML5CSS3权威指南p133</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P><STRONG>IE下播放器MediaPlayer示例</STRONG></P>
<P>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"<BR>"<A 
href="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</A>"&gt;<BR>&nbsp;<BR>&lt;html 
xmlns="<A 
href="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>"&gt;<BR>&lt;head&gt;<BR>&nbsp;&nbsp;&nbsp; 
&lt;title&gt;MediaPlayer示例&lt;/title&gt;<BR>&nbsp;&nbsp;&nbsp; &lt;meta 
charset="utf-8"&gt;<BR>&nbsp;&nbsp;&nbsp; &lt;style 
type="text/css"&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
body<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
font-size:12px;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
font-family:宋体;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
#divMpl<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; height: 
137px;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
width: 277px;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
#divMsg<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; height: 
155px;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
overflow:auto;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
width: 376px;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp; &lt;/style&gt;<BR>&nbsp;&nbsp;&nbsp; &lt;script 
language="javascript" type="text/javascript"&gt;<BR>&nbsp;&nbsp;&nbsp; /* 
MediaPlayer类定义 */<BR>&nbsp;&nbsp;&nbsp; function 
MediaPlayer()<BR>&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.dom=null;<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; 
MediaPlayer.uiMode=<BR>&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Full:"full",<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Mini:"mini",<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
None:"none",<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Invisible:"invisible"<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; 
MediaPlayer.prototype={<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
//在指定ID的标签中创建MediaPlayer控件，大小由该标签决定<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
CreateAt:function(id)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.dom=document.createElement("object");<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.dom.classid="CLSID:6BF52A52-394A-11d3-B153-00C04F79FAA6";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.dom.style.width="100%";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.dom.style.height="100%";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
var 
container=document.getElementById(id);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
container.innerHTML="";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
container.appendChild(this.dom);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this._Init();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
//绑定一个已存在的Object标签，该标签应该为一个MediaPlayer控件<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
BindID:function(id) <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.dom=document.getElementById(id);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this._Init();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
_Init:function()&nbsp;&nbsp;&nbsp; 
//初始化，注册事件<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var 
_this=this;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
if(!window.attachEvent)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.dom.attachEvent=function(evn,fun)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.dom.attachEvent("PlayStateChange",<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
function(newState){_this.onPlayStateChange(newState)});<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.dom.attachEvent("Buffering",function(bStart){ _this.onBuffering(bStart) 
});<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.dom.attachEvent("Error",function(){ _this.onError(); 
});<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.dom.attachEvent("PositionChange",<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
function(oldPos,newPos){ _this.onPositionChange(oldPos,newPos); } 
);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.dom.attachEvent("StatusChange",function(){ _this.onStatusChange(); 
})<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
onPlayStateChange:function(newState)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
switch(newState)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 1: 
//wmppsStopped<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.onStop();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
case 2:&nbsp; 
//wmppsPaused<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.onPaused();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
case 3:&nbsp; 
//wmppsPlaying<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.onPlay();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
case 4:&nbsp; 
//wmppsScanForward<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
case 5:&nbsp; 
//wmppsScanReverse<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
case 6:&nbsp; 
//wmppsBuffering<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.onBuffering_SC();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
case 7:&nbsp; 
//wmppsWaiting<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
case 8:&nbsp; 
//wmppsMediaEnded<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.onMediaEnded();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
case 9:&nbsp; 
//wmppsTransitioning<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
this.onTransitioning();<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
case 10:&nbsp; 
//wmppsReady<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
case 11:&nbsp; 
//wmppsReconnecting<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
case 12:&nbsp; 
//wmppsLast<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
case 0:&nbsp; 
//wmppsUndefined<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
default:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 
事件列表<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
onStop:function(){},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
onPaused:function(){},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
onPlay:function(){},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
onBuffering_SC:function(){},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
onTransitioning:function(){},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
onMediaEnded:function(){},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
onError:function(){},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
onPositionChange:function(oldPos,newPos){},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
onStatusChange:function(){},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
onBuffering:function(bStart){},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 设置 
暂时只做两个<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
setMode:function(mode){ this.dom.uiMode=mode; 
},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setVolume:function(v){ 
this.dom.settings.volume=v; 
},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 
各种属性<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
getMediaName:function()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var 
media=this.dom.currentMedia;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
if(media)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
return 
media.name;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 
"";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
getMediaDuration:function()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var 
media=this.dom.currentMedia;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
if(media)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
return 
media.duration;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 
"";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
getMediaDurationString:function()<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var 
media=this.dom.currentMedia;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
if(media)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
return 
media.durationString;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 
"";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getStatus:function(){ return 
this.dom.status; },<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
getPosition:function(){ return this.dom.controls.currentPosition; 
},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getPositionString:function(){ 
return this.dom.controls.currentPositionString; 
},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; getPlayState:function(){ return 
this.dom.playState; },<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 
操作方法<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OpenUrl:function(URL){ 
this.dom.URL=URL; },<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Play:function(){ this.dom.controls.play(); 
},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Pause:function(){ 
this.dom.controls.pause();},<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
Stop:function(){ this.dom.controls.stop(); }<BR>&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp; /* MediaPlayer类定义 */<BR>&nbsp;&nbsp;&nbsp;&nbsp; 
<BR>&nbsp;&nbsp;&nbsp; var mpl=new MediaPlayer();&nbsp; 
//创建一个MediaPlayer<BR>&nbsp;&nbsp;&nbsp; 
window.onload=function()<BR>&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mpl.CreateAt("divMpl"); 
//在divMpl中创建MediaPlayer<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
mpl.setVolume(100);&nbsp; //设置音量<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
mpl.setMode(MediaPlayer.uiMode.Full); 
//设置显示模式<BR>&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
//事件响应代码<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mpl.onPlay=function(){ 
ShowMessage("正在播放["+this.getMediaName()+"]"); 
};<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mpl.onPaused=function(){ 
ShowMessage("暂停"); };<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
mpl.onMediaEnded=function(){ ShowMessage("播放结束"); 
};<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mpl.onStop=function(){ 
ShowMessage("停止"); };<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
mpl.onPositionChange=function(oldPos,newPos){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
var 
pos1={<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
min:parseInt(oldPos/60),<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
sec:parseInt(oldPos%60)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var 
pos2={<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
min:parseInt(newPos/60),<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
sec:parseInt(newPos%60)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
ShowMessage(pos1.min+":"+pos1.sec+ "-&gt;"+ 
pos2.min+":"+pos2.sec);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
};<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
//mpl.onStatusChange=function(){ ShowMessage(this.getStatus()); 
};<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mpl.OpenUrl("times.mp3");&nbsp; 
//打开音乐<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
window.setInterval("ShowPlayTime()",1000);<BR>&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp; //显示播放时间<BR>&nbsp;&nbsp;&nbsp; function 
ShowPlayTime()<BR>&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
if(mpl.getPlayState()==3)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
ShowStatus(mpl.getPositionString());<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; function 
ShowMessage(str)<BR>&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var 
msg=document.getElementById("divMsg");<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
var 
tn=document.createTextNode(str);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
msg.appendChild(tn);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
msg.appendChild(document.createElement("br"));<BR>&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp; function ShowStatus(str)<BR>&nbsp;&nbsp;&nbsp; 
{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
document.getElementById("divStatus").innerHTML=str;<BR>&nbsp;&nbsp;&nbsp; 
}<BR>&nbsp;&nbsp;&nbsp; 
&lt;/script&gt;<BR>&lt;/head&gt;<BR>&lt;body&gt;<BR>&lt;div 
id="divMpl"&gt;&lt;/div&gt;<BR>&lt;div 
id="divStatus"&gt;&amp;nbsp;&lt;/div&gt;<BR>&lt;!-- object id="wmp1" 
classid="CLSID:6BF52A52-394A-11d3-B153-00C04F79FAA6" width="100%" 
height="200"&gt;<BR>&nbsp; &lt;param name="autoStart" 
value="true"/&gt;<BR>&nbsp; &lt;param name="enableErrorDialogs" 
value="false"/&gt;<BR>&nbsp; &lt;param name="volume" value="100"&gt;<BR>&nbsp; 
&lt;param name="uiMode" value="full"/&gt;<BR>&nbsp; &lt;param name="URL" 
value="times.mp3"/&gt;<BR>&lt;/object&nbsp; --&gt;<BR>&nbsp;&nbsp;&nbsp; 
&lt;input type="button" value="清空消息" 
onclick="document.getElementById('divMsg').innerHTML='';" 
/&gt;<BR>&nbsp;&nbsp;&nbsp; &lt;div 
id="divMsg"&gt;&lt;/div&gt;<BR>&lt;/body&gt;<BR>&lt;/html&gt;</P></BODY></HTML>
